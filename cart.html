<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0">
  <title>Cart</title>
  <link rel="stylesheet" href="cart.css">
  <script src="https://cdn.jsdelivr.net/npm/vue@3.3.4/dist/vue.global.prod.js"></script>
  <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-gray-100">
  <div id="app" class="p-4 flex flex-col items-center">

    <!-- Notice Bar -->
    <div v-if="notice" class="mb-4 w-full max-w-3xl">
      <div class="bg-green-100 text-green-800 px-4 py-2 rounded shadow text-center text-sm font-medium">
        {{ notice }}
      </div>
    </div>

    <!-- Header -->
    <div class="flex justify-between items-center mb-4 w-full max-w-3xl header-actions">
      <h1 class="text-xl font-bold text-center flex-1">Your Cart</h1>
      <a href="menu.html" class="px-3 py-2 bg-gray-400 text-white rounded btn">Return</a>
    </div>

    <!-- Cart Table (scrollable on small screens) -->
    <div class="overflow-x-auto w-full max-w-3xl">
      <table class="min-w-full bg-white rounded shadow text-center">
        <thead>
          <tr class="custom-color text-white">
            <th class="p-2">Item</th>
            <th class="p-2">Option</th>
            <th class="p-2">Size</th>
            <th class="p-2">Qty</th>
            <th class="p-2">Subtotal</th>
            <th class="p-2">Action</th>
          </tr>
        </thead>
        <tbody>
          <tr v-for="(item, index) in cart" :key="index" class="border-b">
            <td class="p-2">{{ item.name }}</td>
            <td class="p-2">{{ item.option || '-' }}</td>
            <td class="p-2">{{ item.size || '-' }}</td>
            <td class="p-2">{{ item.qty }}</td>
            <td class="p-2">₱{{ item.subtotal }}</td>
            <td class="p-2">
              <button class="bg-red-500 text-white px-2 py-1 rounded btn" @click="removeItem(index)">Remove</button>
            </td>
          </tr>

          <!-- Row for empty cart -->
          <tr v-if="cart.length === 0">
            <td colspan="6" class="p-2">Cart is empty</td>
          </tr>

          <!-- Total Row -->
          <tr v-if="cart.length > 0" class="font-bold bg-yellow-100">
            <td colspan="4" class="p-2 text-right">Total:</td>
            <td class="p-2">₱{{ total }}</td>
            <td></td>
          </tr>
        </tbody>
      </table>
    </div>

    <!-- Cart Summary Buttons -->
    <div class="mt-4 flex flex-col sm:flex-row justify-end items-center w-full max-w-3xl gap-2">
      <button class="px-3 py-2 bg-gray-400 text-white rounded btn" @click="cancelCart" :disabled="cart.length === 0">Cancel Order</button>
      <a :href="cart.length > 0 ? 'receipt.html' : '#'" class="px-3 py-2 bg-green-500 text-white rounded btn text-center w-full sm:w-auto" :class="{'pointer-events-none opacity-50': cart.length===0}" @click="checkout">Checkout</a>
    </div>

  </div>

  <script src="app.js"></script>
</body> 
</html>
